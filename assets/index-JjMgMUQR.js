(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();const v=9.5;function f(e){let t=0,r=0;return e.forEach(n=>{n.credits&&n.gradePoint&&(t+=parseFloat(n.credits),r+=parseFloat(n.credits)*parseFloat(n.gradePoint))}),t?(r/t).toFixed(2):0}function x(e){let t=0,r=0;return e.forEach(n=>{let s=0,c=0;n.courses.forEach(d=>{d.credits&&d.gradePoint&&(s+=parseFloat(d.credits),c+=parseFloat(d.credits)*parseFloat(d.gradePoint))}),s>0&&(t+=c,r+=s)}),r?(t/r).toFixed(2):0}function g(e){return(parseFloat(e)*v).toFixed(2)}function p(e){return e?`(${e}%)`:"(-)"}let a=[{courses:[],sgpa:0}],o=0;document.addEventListener("DOMContentLoaded",()=>{C(),y(),E()});function E(){const e=localStorage.getItem("theme");(e==="dark"||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark");const t=document.getElementById("themeToggle");t==null||t.addEventListener("click",()=>{const n=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",n?"dark":"light")})}function C(){var t,r,n;(t=document.getElementById("addCourse"))==null||t.addEventListener("click",b),(r=document.getElementById("prevSemester"))==null||r.addEventListener("click",S),(n=document.getElementById("nextSemester"))==null||n.addEventListener("click",I);const e=document.getElementById("coursesContainer");e&&(e.addEventListener("click",P),e.addEventListener("input",L))}function i(){const e=document.createElement("div");return e.className="course-row grid grid-cols-12 gap-4 items-center animate-fade-in",e.innerHTML=`
        <div class="col-span-6">
            <input type="text" placeholder="Course Name"
                   class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100">
        </div>
        <div class="col-span-2">
            <input type="number" placeholder="Credits"
                   class="course-credits w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"
                   min="1" max="6">
        </div>
        <div class="col-span-3">
            <input type="number" placeholder="Grade Points"
                   class="course-grade w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"
                   min="0" max="10" step="1">
        </div>
        <div class="col-span-1">
            <button class="remove-course text-red-500 hover:text-red-700">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
            </button>
        </div>
    `,e}function y(){const e=document.getElementById("coursesContainer");e&&a[o].courses.length===0&&(a[o].courses.push({name:"",credits:0,gradePoint:0}),e.appendChild(i()))}function b(){const e=document.getElementById("coursesContainer");e&&(a[o].courses.push({name:"",credits:0,gradePoint:0}),e.appendChild(i()),m())}function S(){l(),o--,h(),document.getElementById("prevSemester").classList.toggle("hidden",o===0),document.getElementById("nextSemester").classList.remove("hidden")}function I(){l(),o===a.length-1&&a.push({courses:[],sgpa:0}),o++,h(),document.getElementById("prevSemester").classList.remove("hidden")}function l(){const e=[];document.querySelectorAll(".course-row").forEach(t=>{e.push({name:t.querySelector('input[type="text"]').value,credits:parseFloat(t.querySelector(".course-credits").value)||0,gradePoint:parseFloat(t.querySelector(".course-grade").value)||0})}),a[o].courses=e,a[o].sgpa=f(e)}function h(){document.getElementById("currentSemester").textContent=o+1;const e=document.getElementById("coursesContainer");e.innerHTML=`
        <div class="grid grid-cols-12 gap-4 text-sm text-gray-500 dark:text-gray-400 pb-2">
            <div class="col-span-6">Course Name</div>
            <div class="col-span-2">Credits</div>
            <div class="col-span-3">Grade Points</div>
            <div class="col-span-1"></div>
        </div>
    `;const t=a[o];t.courses.length===0?y():t.courses.forEach(r=>{const n=i();n.querySelector('input[type="text"]').value=r.name,n.querySelector(".course-credits").value=r.credits||"",n.querySelector(".course-grade").value=r.gradePoint||"",e.appendChild(n)}),m(),u()}function P(e){const t=e.target.closest(".remove-course");if(!t)return;const r=t.closest(".course-row"),n=Array.from(r.parentNode.children).indexOf(r)-1;a[o].courses.length>1&&(a[o].courses.splice(n,1),r.remove(),m(),u())}function L(){l(),u()}function u(){const e=f(a[o].courses),t=x(a);document.getElementById("sgpaResult").textContent=e,document.getElementById("sgpaPercentage").textContent=p(g(e)),document.getElementById("cgpaResult").textContent=t,document.getElementById("cgpaPercentage").textContent=p(g(t)),document.getElementById("semesterCount").textContent=a.length}function m(){const e=document.querySelectorAll(".remove-course"),t=a[o].courses.length<=1;e.forEach(r=>r.classList.toggle("hidden",t))}
